CREATE database `study`;
use study;
CREATE USER 'study'@'%' IDENTIFIED BY 'pass';
drop user 'study'@'*';
GRANT ALL PRIVILEGES ON *.* TO 'study'@'%';
flush privileges;
drop database study;
CREATE DATABASE `study` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;
select * from user_info;

INSERT INTO user_info(
	user_id,user_pw,user_name,user_email,user_phone,user_state,user_admin
)VALUES (
	'admin01','1111','관리자','study01@study.com','010-0000-0000','1','admin'
);
select * from user_info;

CREATE TABLE `user_info` (
	`user_id`	varchar(50)	NOT NULL,
	`user_pw`	varchar(100)	NULL,
	`user_name`	varchar(50)	NULL,
	`user_email`	varchar(50)	NULL,
	`user_phone`	varchar(50)	NULL,
	`user_state`	varchar(50)	NULL,
	`user_admin`	varchar(50)	NULL
);

CREATE TABLE `quiz` (
	`quiz_no`	int(50)	primary key auto_increment,
	`test_no`	int(50)	NOT NULL,
	`test_category_no`	int(50)	NOT NULL,
	`subject_category_no`	int(50)	NOT NULL,
	`quiz_index`	int(50)	NULL,
	`quiz_content`	varchar(1000)	NULL,
	`quiz_explation`	varchar(1000)	NULL,
	`quiz_type`	varchar(50)	NULL,
	`quiz_point`	int(50)	NULL,
	`options`	varchar(100)	NULL,
	`quiz_answer`	varchar(100)	NULL,
	`used_yn`	boolean	NULL
);
select * from quiz;


CREATE TABLE `test_category` (
	`test_category_no`	int(50)	primary key auto_increment,
	`test_category`	varchar(50)	NOT NULL,
	`used_yn`	boolean	NULL
);

drop table test_category;
select * from test_category;
alter table test_category auto_increment = 100;

CREATE TABLE `subject_category` (
	`subject_category_no`	int(50)	primary key auto_increment,
	`test_category_no`	int(50)	NOT NULL,
	`subject_category`	varchar(50)	NULL,
	`used_yn`	boolean	NULL
);
alter table subject_category auto_increment = 10000; 




CREATE TABLE `quiz_solve` (
	`solve_no`	int(50)	primary key auto_increment,
	`user_id`	varchar(50)	NOT NULL,
	`quiz_no`	int(50)	NOT NULL,
	`solve_date`	datetime,
	`correct_wrong`	boolean	NULL,
	`test_prac_flag`	varchar(50)	NULL
);


CREATE TABLE `test_result` (
	`test_result_no`	int(50)	NOT NULL,
	`user_id`	varchar(50)	NOT NULL,
	`test_no`	int(50)	NOT NULL,
	`elapse_time`	varchar(50)	NULL,
	`score`	int(50)	NULL,
	`test_execute_date`	timestamp	NULL
);

CREATE TABLE `test_list` (
	`test_no`	int(50)	primary key auto_increment,
	`test_category_no`	int(50)	NOT NULL,
	`test_year`	int(10)	NULL,
	`test_month`	int(10)	NULL,
	`test_count`	int(10)	NULL,
	`test_passrate`	int(10)	NULL,
	`test_time`	int(100)	NULL,
	`test_fullscore`	int(10)	NULL,
	`used_yn`	boolean	NULL
);
select * from test_list;
CREATE TABLE `quiz_report` (
	`quiz_repotr_no`	int(50)	NOT NULL,
	`user_id`	varchar(50)	NOT NULL,
	`quiz__no`	int(50)	NOT NULL,
	`report_content`	varchar(1000)	NULL,
	`compl_flag`	boolean	NULL
);


